{
  "hud_title_text/title_frame/title": {
    "modifications": [
      {
        "array_name": "bindings",
        "operation": "insert_back",
        "value": [
          {
            "binding_type": "view",
            "source_property_name": "((#text - 'Thirst') = #text)",
            "target_property_name": "#visible"
          }
        ]
      }
    ]
  },

  "thirst_bar_container": {
    "type": "image",
    "texture": "textures/ui/experiencebarempty",
    "size": [ 70, 6 ],

    "anchor_from": "bottom_right",
    "anchor_to": "bottom_right",
    "offset": [ -4, -4 ],

    "bindings": [
      {
        "binding_name": "#hud_title_text_string",
        "binding_name_override": "#text",
        "binding_type": "global"
      },
      {
        "binding_type": "view",
        "source_property_name": "(not ((#text - 'Thirst') = #text))",
        "target_property_name": "#visible"
      }
    ],

    "controls": [
      {
        "thirst_bar_icon": {
          "type": "image",
          "texture": "textures/ui/achievements",

          "size": [ 12, 12 ],
          "offset": [ -13, -1 ],

          "anchor_from": "left_middle",
          "anchor_to": "left_middle"
        }
      },
      {
        "thirst_bar_full": {
          "type": "image",
          "layer": 2,
          
          "texture": "textures/ui/experiencebarfull",
          "color": [ 0, 0, 1 ],
          "size": [ "100%", "100%" ],

          "clip_pixelperfect": false,
          "clip_direction": "left",
          "$clip_max": 100.0,

          "bindings": [
            {
              "binding_name": "#hud_title_text_string",
              "binding_name_override": "#text",
              "binding_type": "global"
            },
            {
              "binding_type": "view",
              "source_property_name": "(#text - (%.8s * #text))",
              "target_property_name": "#f_text"
            },
            {
              "binding_type": "view",
              "source_property_name": "(($clip_max - #f_text) / $clip_max)",
              "target_property_name": "#clip_ratio"
            }
          ]
        }
      }
    ]
  },

  "thirst_bar_factory": {
    "type": "panel",
    "factory": {
      "name": "hud_title_text_factory",
      "control_ids": {
        "hud_title_text": "thirst_bar_container@hud.thirst_bar_container"
      }
    }
  },

  "root_panel": {
    "modifications": [
      {
        "array_name": "controls",
        "operation": "insert_front",
        "value": [
          { "thirst_bar_factory@thirst_bar_factory": {} }
        ]
      }
    ]
  }
}